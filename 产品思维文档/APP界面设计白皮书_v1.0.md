# 邢浩哲 - DreamAIChat 界面设计白皮书

## -- "Dream" 对话流界面逻辑设计



## 界面总览

```Plain
LoginScreen (登录界面)
↓
MainActivity (主容器)
└─── ChatScreen (聊天界面) 
	├── HistoryScreen (历史界面)
	└── ProfileScreen (个人界面)

特色功能界面：
├── Sidebar (侧边栏)
├── TemplateSelectionScreen (模板选择)
├── ModelRoutingScreen (模型路由)
└── ConversationGraphScreen (对话图谱)

- 下列每个界面中的a,b,c,...表示自上而下排布的模块
- 界面名,图片名等尽可能使用中文直译英文便于理解并使用驼峰命名法
- 每个用户的信息应当单独存储, 登陆后是每个用户个性的相关设置和历史
```



## 界面一: LoginScreen - 登录界面

**功能**：用户认证和品牌展示入口

**布局模块**：

- a. **品牌展示区** (BrandSection)
    - 应用Logo图标 + "Dream"文字
    - 副标题："更强大的AI助手"
    - 品牌色：青绿色渐变背景
- b. **登录表单区** (LoginForm)
    - b1: 手机号/邮箱输入框
        - 提示文字："请输入手机号或邮箱"
        - 前缀图标：📱
    - b2: 密码输入框  
        - 提示文字："请输入密码"
        - 前缀图标：🔒
        - 右侧：显示/隐藏密码按钮(👁️)
    - b3: "登录"按钮
        - 点击验证并跳转(界面二)
    - b4: "注册账号"文字按钮
        - 点击跳转注册流程（简化版）
- c. **底部信息区** (Footer)
    - "登录即代表同意《用户协议》和《隐私政策》"
    - 可点击链接，弹出协议内容



## 界面二: MainActivity - 主界面

**功能**：核心交互区

**布局模块**：

- a. **顶部功能栏** (TopFunctionBar)
    - 左侧：菜单按钮及图标
        - 点击按钮或者直接右划主界面以打开侧边栏(界面三),
    - 中间：应用名称"Dream" + 当前模型状态指示器
    - 右侧：开启新对话按钮及图标
        - 点击跳转(界面二), 将上一个对话存入历史对话并开启一个新对话
    
- b. **中央文本交互区域** (CenterContentArea)
    
    - **功能**：核心对话交互界面
    
        **布局模块**：(自上而下)
    
        - b1. **对话状态栏** (ChatStatusBar)
            - 显示："Dream · 在线"
        - b2. **消息列表区域** (MessageList)
            - 使用LazyColumn实现可滚动列表
            - 消息项类型：
                - 用户消息：右侧对齐，淡绿色背景
                - AI消息：左侧对齐，浅灰色背景
                - 系统消息：居中，半透明背景
            - 每条消息包含：
                - 头像（用户👤 / AI🤖）
                - 消息气泡（支持文本和图片）
                - 时间戳（HH:mm格式）
                - 消息状态指示器（发送中⏳/成功✅/失败❌）
        - d. **快捷指令栏** (QuickActions)
            - 横向滚动条，显示常用快捷指令
            - 示例指令："解释代码"、"总结内容"、"翻译成英文"
            - 点击指令自动填入输入框
    
- c. **最底部输入及功能栏** (BottomNavigation)
    
    - c1: 输入框 (默认选中)
        - 未输入时默认文字："Message Dream"
        - 支持多行文本输入
        - 最大高度限制，可滚动
        - 点击弹出键盘(默认中文输入法)
    - c2: 功能条
        - c2_1(功能条最左侧): 模型选择按钮(有图标和"模型"文字)
            - 点击后弹出模型选择轮盘可以选择默认的几个模型(暂时提供: 豆包, DeepSeek)
        - c2_2(功能条最右侧): 发送信息按钮
            - 点击后发送输入的信息并在聊天主界面显示 
            - 默认状态：发送图标(⬆️)
            - 加载状态：沙漏加载图标(⏳)
        - c2_3(c2_2的左侧): 附件添加按钮(加号图标) 
            - 点击弹出附件小菜单：相册按钮及图标、拍照按钮及图标



## 界面三: Sidebar - 侧边栏

**功能**：特色功能快速访问和历史记录浏览

**布局模块**(自上而下)：

- a. 顶部快速操作栏
    - a1操作栏左侧: 返回主界面按钮(返回图标)
        - 点击后返回(界面二) 
- b. **用户信息栏** (UserHeader)
    - 包含用户头像 + 用户名
    - 点击后弹出个人中心界面(界面五)
- c. **特色功能区** (FeatureSection)
    - b1: 模板系统按钮 
        - 图标：📝
        - 文本："对话模板"
        - 描述："快速开始专业对话"
        - 点击跳转(界面八: TemplateSelectionScreen)
    - b2: 路由系统卡片按钮
        - 图标：🔄  
        - 文本："智能路由"
        - 描述："优化模型选择"
        - 点击跳转(界面9: ModelRoutingScreen)
    - b3: 对话图谱系统按钮
        - 图标：🕸️
        - 文本："对话图谱"
        - 描述："可视化对话关系"
        - 点击跳转(界面十: ConversationGraphScreen)
- d. **历史记录区** (HistorySection)
    - c1: "聊天历史"按钮 → 跳转(界面4: HistoryScreen)
    - c2: 最近10条历史记录预览
        - 每条历史记录显示：标题 + 对话梗概  
            - 点击对应的历史记录展示对应对话内容(界面二)



## 界面四: HistoryScreen - 历史记录界面

**功能**：对话历史管理和查看

**布局模块**：

- a. **搜索栏** (SearchBar)
    - 搜索图标🔍 + 输入框
    - 提示文字："搜索历史对话"
    - 实时搜索过滤
- b. **筛选工具栏** (FilterToolbar)
    - 时间筛选："全部" | "今天" | "本周" | "本月" 按钮
    - 排序按钮："最新" ↔ "最旧" 切换
    - 批量操作按钮："选择" → 进入多选模式
- c. **历史列表** (HistoryList)
    - 历史会话项包含：
        - 会话标题（自动生成，首条消息概要）
        - 最后消息预览
        - 时间信息（相对时间：刚刚/2小时前/昨天）
        - 消息数量徽章
    - 点击会话项：跳转(界面二)并加载该对话
    - 长按会话项：弹出操作菜单（删除、重命名）
- d. **如还没有历史记录: 空状态** (EmptyState)
    - 图标：📝
    - 文字："还没有对话记录"
    - 按钮："开始对话" , 点击后跳转(界面二)
- e. **多选模式工具栏** (MultiSelectToolbar)
    - 选中计数："已选择X项"
    - 操作按钮+图标：删除
    - 取消按钮+图标："取消"



## 界面五: SettingsScreen - 设置界面

**功能**：基础功能设置

**布局模块**：

- a. 账户栏(文本为"账户")

    - a1. 账号设置按钮
        - 按钮最左侧: 图标
        - 按钮中央: "账号设置"文本
        - 点击后跳转(界面六)
    - a2. 数据统计按钮 (StatsCard)
        - 按钮最左侧: 图标
        - 按钮中央: "数据统计"文本
        - 点击后跳转(界面八)

- b. 应用设置栏(文本为"应用")

    - b1. 外观设置按钮
        - 按钮最左侧: 图标
        - 按钮中央: "外观"文本
        - 按钮右侧: 显示当前默认的语言
        - 点击后弹出小菜单
            - 包含深色主题和浅色主题

- c. 特色功能设置栏(文本为"特色功能")
    - c1: "对话模板" 按钮
        - 按钮最左侧: 图标
        - 按钮中央: "对话模板"文本
        - 点击跳转(界面18: TemplateSelectionScreen)
    - c2: "智能路由" 按钮
        - 按钮最左侧: 图标
        - 按钮中央: "智能路由"文本
        - 点击跳转(界面19: ModelRoutingScreen)
    - c3: "对话图谱" 按钮
        - 按钮最左侧: 图标
        - 按钮中央: "对话图谱"文本
        - 点击跳转(界面20: ConversationGraphScreen)

- d. 关于栏(文本为"关于")
    - d1. 检查更新按钮
        - 按钮最左侧: 图标
        - 按钮中央: "检查更新"文本
        - 点击显示当前版本
    - d2. 隐私条例按钮
        - 按钮最左侧: 图标
        - 按钮中央: "隐私条例"文本
        - 点击展示隐私条例界面

- e. 退出登录按钮

    - 按钮最左侧: 图标

    - 按钮中央: "退出登录"文本

    - 点击后展示提示窗

        - 标题: 退出登录

        - 中央文本: 退出登录不会丢失任何数据, 你仍可以登录此账号

        - 下方左右两个按钮:

            - 左侧: 取消
                - 点击后返回刚才的界面
            - 右侧: 确认退出
                - 点击后返回(界面一)

            

## 界面六: AccountSettings - 账号设置

**功能**：账号设置和个性化设置

**布局模块**：

- a. **返回导航**
    - 左上角返回按钮, 图标为箭头
    - 点击后跳转上一界面

## 界面七: SettingsScreen - 设置界面

**功能**：应用配置和个性化设置

**布局模块**：

- a. **返回导航**
    - 左上角返回箭头 ←
    - 标题："设置"
- b. **账号设置组** (AccountSettings)
    - b1: "账号管理" → 账号详情界面
    - b2: "会员中心" → 会员服务界面
- c. **对话设置组** (ChatSettings)
    - c1: "AI模型设置" 
        - 右侧显示当前模型
        - 点击跳转模型选择界面
    - c2: "对话风格" 
        - 右侧显示当前风格
        - 点击弹出风格选择（严谨/创意/幽默等）
    - c3: "上下文长度" 
        - 右侧显示"标准(128K)"
        - 不可编辑（按规划采用标准长度）
- d. **偏好设置组** (PreferenceSettings)
    - 开关选项：
        - d1: "语音输入" 🔊
        - d2: "输入法快捷键" ⌨️
        - d3: "消息推送通知" 📢
        - d4: "深色模式" 🌙
- e. **数据管理组** (DataManagement)
    - e1: "清理缓存" 
        - 右侧显示缓存大小
        - 点击清理确认对话框
    - e2: "导出数据" → 数据导出界面
    - e3: "隐私设置" → 隐私政策界面
- f. **关于组** (AboutSection)
    - f1: "版本信息" - 显示当前版本号
    - f2: "用户反馈" - 反馈界面
    - f3: "分享应用" - 调用系统分享

## 界面18: TemplateSelectionScreen - 模板选择界面

**功能**：智能对话模板选择和应用

**布局模块**：

- a. **返回导航**
    - 左上角返回箭头 ←
    - 标题："对话模板"
- b. **模板分类栏** (TemplateCategories)
    - 横向滚动分类标签：
        - "全部" | "工作" | "学习" | "生活" | "创意"
- c. **模板网格** (TemplateGrid)
    - 2列网格布局
    - 模板卡片包含：
        - 图标（预设对应图标）
        - 模板名称
        - 简短描述
        - 使用场景标签
    - 预设4个核心模板：
        - c1: **编程助手** 💻
            - 描述："代码编写和调试助手"
        - c2: **论文助手** 📚
            - 描述："学术写作和研究指导"  
        - c3: **医疗咨询** 🏥
            - 描述："健康咨询和医疗建议"
        - c4: **翻译专家** 🌐
            - 描述："多语言翻译和本地化"
- d. **模板详情浮层** (TemplateDetail)
    - 点击模板后显示
    - 包含：
        - 详细功能介绍
        - 使用示例
        - "使用此模板"按钮 → 应用模板并返回聊天界面

## 界面19: ModelRoutingScreen - 模型路由界面

**功能**：多模型路由策略配置

**布局模块**：

- a. **返回导航**
    - 左上角返回箭头 ←
    - 标题："智能路由"
- b. **路由模式选择** (RoutingMode)
    - 单选按钮组：
        - b1: **自动模式** (默认选中)
            - 描述："系统智能选择最佳模型"
        - b2: **速度优先** 
            - 描述："响应最快，适合简单问题"  
        - b3: **质量优先** 
            - 描述："回答质量最高，适合复杂问题"
        - b4: **成本优先** 
            - 描述："使用成本最优的模型"
- c. **模型状态面板** (ModelStatus)
    - 显示当前可用模型状态：
        - 模型名称 + 状态指示器（在线/离线）
        - 平均响应时间
        - 使用统计
- d. **路由规则预览** (RoutingRules)
    - 显示当前路由策略的规则示例
    - 例如："编程问题 → 代码专用模型"
- e. **性能统计** (PerformanceStats)
    - 显示路由系统性能指标
    - 成功率、平均响应时间等

## 界面20: ConversationGraphScreen - 对话图谱界面

**功能**：对话关系可视化展示

**布局模块**：

- a. **返回导航**
    - 左上角返回箭头 ←
    - 标题："对话图谱"
- b. **图谱可视化区域** (GraphCanvas)
    - 全屏Canvas绘制关系图谱
    - 节点类型：
        - 用户消息节点
        - AI回复节点  
        - 关键概念节点
    - 连线表示关系关联
- c. **图谱工具栏** (GraphToolbar)
    - 悬浮在图谱上方：
        - c1: 缩放控制（放大🔍 + 缩小🔍）
        - c2: 重置视图按钮(🔄)
        - c3: 导出图片按钮(📷)
- d. **节点信息面板** (NodeInfoPanel)
    - 点击节点后从底部滑出
    - 显示节点详细信息：
        - 节点内容
        - 关联节点
        - 时间信息
- e. **图谱图例** (GraphLegend)
    - 右下角悬浮图例
    - 说明不同颜色和形状的含义

## 交互状态说明

### 全局交互规范

- **加载状态**：统一的旋转加载指示器
- **空状态**：友好的图标和引导文字
- **错误状态**：明确的错误信息和重试按钮
- **成功状态**：简洁的成功提示

### 导航流程

```Plain
登录 → 主界面(聊天) ←→ 侧边栏(特色功能)
    ↓
  历史界面 ←→ 具体历史对话
    ↓  
  个人界面 ←→ 各种设置界面
```

### 特色功能集成

所有特色功能都通过侧边栏统一访问，确保用户体验的一致性，同时尽可能保持主界面的简洁性